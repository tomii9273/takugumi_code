# ソースコードの説明

各ソースコードの実行コマンド・説明と、卓数や人数ごとの作成可否と実行時間の一覧です。

## 共通の仕様

卓組を作成できた場合、同じディレクトリに卓組ファイル (タブ区切りテキストファイル、縦軸がプレイヤー、横軸が対戦) を作成し、標準出力に `found` と実行時間を出力し、終了します。  
卓組を作成できなかった場合、標準出力に `notfound` と実行時間を出力し、終了します。  
実行時間は以下の環境で測定したものです。1 回の測定の値であり、あくまで目安です。

- CPU: Intel(R) Core(TM) i5-7400 CPU @ 3.00GHz
- メモリ: 16.0 GB
- OS: Windows 10 Home 64bit
- Python バージョン: 3.11.5
- ライブラリのバージョン: `../requirements.txt` 参照

## 4ma_nukeari_4and1_sen.py

`python 4ma_nukeari_4and1_sen.py -p [人数P]`

$P$ 人 $[P/4]$ 卓の抜け番あり 4 + 1 戦 ($P$ が 4 の倍数でない場合) の作成を試みます。  
`../takugumi_txt` 内の既存の 4 チーム戦の卓組 (同じ卓を複数回使用する人がいないよう調整済) を使用します。

### 実行結果

| 人数 $P$                       | 作成可否 | 実行時間 [s] |
| ------------------------------ | -------- | -----------: |
| 15, 19 ～ 122 (4 の倍数を除く) | 可       |          < 1 |

### 参考

[抜け番あり 1 人 4 戦 合計 5 戦 卓組作成方法](https://tomii6614.web.fc2.com/nukeari_4and1_sen_method.html)

## 4ma_nukeari_6and1_sen.py

`python 4ma_nukeari_6and1_sen.py -t [卓数T]`

$T$ 卓 $4T+2$ 人の抜け番あり 6 + 1 戦の作成を試みます。  
`../takugumi_txt` 内の既存の 4 チーム戦の卓組 (同じ卓を複数回使用する人がいないよう調整済) を使用します。

### 実行結果

| 卓数 $T$ | 作成可否 | 実行時間 [s] |
| -------- | -------- | -----------: |
| 7 ～ 30  | 可       |          < 1 |

### 参考

[抜け番あり 1 人 6 戦 合計 7 戦 卓組作成方法](https://tomii6614.web.fc2.com/nukeari_6and1_sen_method.html)

## 4ma_nukeari_8and1_sen.py

`python 4ma_nukeari_8and1_sen.py -p [人数P]`

$P$ 人 $[P/4]$ 卓の抜け番あり 8 + 1 戦 ($P$ が 4 の倍数でない場合) の作成を試みます。  
`../takugumi_txt` 内の既存の 4 チーム戦の卓組 (同じ卓を複数回使用する人がいないよう調整済) を使用します。

### 実行結果

| 人数 $P$                   | 作成可否 | 実行時間 [s] |
| -------------------------- | -------- | -----------: |
| 39 ～ 122 (4 の倍数を除く) | 可       |          < 1 |

### 参考

[抜け番あり 1 人 8 戦 合計 9 戦 卓組作成方法](https://tomii6614.web.fc2.com/nukeari_8and1_sen_method.html)

## nma_nteamsen_indivisible.py

`python nma_nteamsen_indivisible.py -g [ゲーム人数G] -t [卓数T]`

$G$ 人麻雀 $G$ チーム戦について、 $T$ 卓で $T$ 戦分の作成を試みます。  
以下の条件を必要とし、また以下の条件を満たせば必ず作成できます (必要十分条件)。  
「2 以上 $G$ 未満の任意の整数 $m$ について、 $T$ を $m$ で割った余りが 0 にならない。」

### 実行結果

| ゲーム人数 $G$ | 卓数 $T$                            | 作成可否 | 実行時間 [s] |
| -------------- | ----------------------------------- | -------- | -----------: |
| 4              | 1, 5, 7, 11, 13, 17, 19, 23, 25, 29 | 可       |          < 1 |
| 3              | 1 ～ 29 の全ての奇数                | 可       |          < 1 |

### 参考

- [4 チーム戦 卓組作成方法](https://tomii6614.web.fc2.com/4team_sen_method.html) の ① ($G$ = 4 の場合)
- [3 人麻雀 3 チーム戦 卓組作成方法](https://tomii6614.web.fc2.com/3g_3team_sen_method.html) の ① ($G$ = 3 の場合)

## 3ma_3teamsen.py

`python 3ma_3teamsen.py -t [卓数T] -s [対戦数S]`

$3$ 人麻雀 $3$ チーム戦について、 $T$ 卓で $S$ 戦分の作成を試みます。  
全探索を行います。  
上記の `nma_nteamsen_indivisible.py` で作成できる場合 (= $T$ が奇数の場合) は、そちらを使用したほうが一般に実行時間が短くなります。  
時間計算量は $O(\frac{T!}{S!(T-S)!}T^{S}S)$ です。ただし、作成できた場合はできない場合に比べて実行時間がかなり短くなる傾向にあります。

### 実行結果

$T≦30$ かつ `nma_nteamsen_indivisible.py` で作成できないものを掲載しています。

- $14$ 以下の $T$ について、 $T-S=0$ は作成できず、 $T-S=1$ を作成できました。
- $16$ 以上の $T$ について、 $T-S=0$ は実行時間が長いため未調査です。 $T-S=1$ は作成できました。

| 卓数 $T$ | 対戦数 $S$ | $T-S$ | 作成可否 | 実行時間 [s] |
| -------- | ---------- | ----- | -------- | -----------: |
| 4        | 4          | 0     | 不可     |        < 0.1 |
| 4        | 3          | 1     | 可       |        < 0.1 |
| 6        | 6          | 0     | 不可     |        < 0.1 |
| 6        | 5          | 1     | 可       |        < 0.1 |
| 8        | 8          | 0     | 不可     |        < 0.1 |
| 8        | 7          | 1     | 可       |        < 0.1 |
| 10       | 10         | 0     | 不可     |        < 0.1 |
| 10       | 9          | 1     | 可       |        < 0.1 |
| 12       | 12         | 0     | 不可     |          1.0 |
| 12       | 11         | 1     | 可       |        < 0.1 |
| 14       | 14         | 0     | 不可     |         44.1 |
| 14       | 13         | 1     | 可       |        < 0.1 |
| 16       | 15         | 1     | 可       |        < 0.1 |
| 18       | 17         | 1     | 可       |        < 0.1 |
| 20       | 19         | 1     | 可       |        < 0.1 |
| 22       | 21         | 1     | 可       |          0.7 |
| 24       | 23         | 1     | 可       |          6.9 |
| 26       | 25         | 1     | 可       |         22.6 |
| 28       | 27         | 1     | 可       |         89.5 |
| 30       | 29         | 1     | 可       |        689.0 |

### 参考

[3 人麻雀 3 チーム戦 卓組作成方法](https://tomii6614.web.fc2.com/3g_3team_sen_method.html) の ②

## 4ma_4teamsen.py

`python 4ma_4teamsen.py -t [卓数T] -s [対戦数S]`

$4$ 人麻雀 $4$ チーム戦について、 $T$ 卓で $S$ 戦分の作成を試みます。  
全探索を行います。  
上記の `nma_nteamsen_indivisible.py` で作成できる場合は、そちらを使用したほうが一般に実行時間が短くなります。  
時間計算量は $O(\frac{T!}{S!(T-S)!}T^{2S}S)$ です。ただし、作成できた場合はできない場合に比べて実行時間がかなり短くなる傾向にあります。

### 実行結果

$T≦30$ かつ `nma_nteamsen_indivisible.py` で作成できないものを掲載しています。

- $T=9$ について、 $T-S=0,1$ は作成できず、 $T-S=2$ を作成できました。
- $T=15, 21, 27$ について、 $T-S=0$ を作成できました。
- 上記以外の $16$ 以下の $T$ について、 $T-S=0$ は作成できず、 $T-S=1$ を作成できました。
- 上記以外の $18$ 以上の $T$ について、 $T-S=0$ は実行時間が長いため未調査です。 $T-S=1$ は作成できました。

| 卓数 $T$ | 対戦数 $S$ | $T-S$ | 作成可否 | 実行時間 [s] |
| -------- | ---------- | ----- | -------- | -----------: |
| 4        | 4          | 0     | 不可     |        < 0.1 |
| 4        | 3          | 1     | 可       |        < 0.1 |
| 6        | 6          | 0     | 不可     |        < 0.1 |
| 6        | 5          | 1     | 可       |        < 0.1 |
| 8        | 8          | 0     | 不可     |        < 0.1 |
| 8        | 7          | 1     | 可       |        < 0.1 |
| 9        | 9          | 0     | 不可     |          0.2 |
| 9        | 8          | 1     | 不可     |          1.6 |
| 9        | 7          | 2     | 可       |        < 0.1 |
| 10       | 10         | 0     | 不可     |        < 0.1 |
| 10       | 9          | 1     | 可       |        < 0.1 |
| 12       | 12         | 0     | 不可     |          0.9 |
| 12       | 11         | 1     | 可       |        < 0.1 |
| 14       | 14         | 0     | 不可     |         40.9 |
| 14       | 13         | 1     | 可       |        < 0.1 |
| 15       | 15         | 0     | 可       |          0.2 |
| 16       | 16         | 0     | 不可     |       2372.3 |
| 16       | 15         | 1     | 可       |          1.0 |
| 18       | 17         | 1     | 可       |          1.7 |
| 20       | 19         | 1     | 可       |         28.2 |
| 21       | 21         | 0     | 可       |          3.2 |
| 22       | 21         | 1     | 可       |          5.8 |
| 24       | 23         | 1     | 可       |        353.9 |
| 26       | 25         | 1     | 可       |       1781.2 |
| 27       | 27         | 0     | 可       |       1134.2 |
| 28       | 27         | 1     | 可       |       2943.7 |
| 30       | 29         | 1     | 可       |    > 10000.0 |

### 参考

[4 人麻雀 4 チーム戦 卓組作成方法](https://tomii6614.web.fc2.com/4team_sen_method.html) の ②
